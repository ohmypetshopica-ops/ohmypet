<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dashboard Empleado - OhMyPet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos básicos y de botones (sin cambios) */
        .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .nav-btn { width: 44px; height: 44px; border-radius: 22px; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; background-color: transparent; position: relative; }
        .nav-btn.active { background-color: #16A34A; box-shadow: 0 2px 8px rgba(22, 163, 74, 0.25); }
        .nav-btn.active svg { color: white; stroke-width: 2.5; }
        .nav-btn:not(.active) { background-color: #F3F4F6; }
        .nav-btn:not(.active) svg { color: #9CA3AF; stroke-width: 2; }
        .nav-btn:not(.active):hover { background-color: #E5E7EB; }
        .header-btn { height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 0 16px; transition: all 0.2s ease; font-weight: 600; font-size: 14px; }
        .header-btn-cart { background-color: #16A34A; color: white; width: 40px; padding: 0; }
        .header-btn-cart:hover { background-color: #15803D; }
        .header-btn-logout { background-color: white; color: #DC2626; border: 2px solid #DC2626; }
        .header-btn-logout:hover { background-color: #FEE2E2; }
        @media (max-width: 767px) {
            #completed-services-table-body thead { display: none; }
            #completed-services-table-body tr { display: block; margin-bottom: 1rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1rem; background: white; }
            #completed-services-table-body td { display: block; text-align: left !important; padding: 0.5rem 0 !important; border: none; }
            #completed-services-table-body td:before { content: attr(data-label); font-weight: 600; display: block; color: #6b7280; font-size: 0.75rem; text-transform: uppercase; margin-bottom: 0.25rem; }
        }

        /* ---- CSS REVISADO Y REESTRUCTURADO ---- */
        html, body {
           height: 100%; /* Asegura que html y body ocupen toda la altura */
           overflow: hidden; /* Evita el scroll global */
           margin: 0;
           background-color: #F3F4F6; /* Fondo general por si acaso */
        }
        .main-container {
           height: 100%; /* Ocupa el 100% de la altura del body/html */
           display: flex;
           flex-direction: column; /* Apila header, main, nav verticalmente */
           width: 100%;
           margin-left: auto;
           margin-right: auto;
           background-color: white; /* Fondo del contenedor principal */
        }
        header {
            flex-shrink: 0; /* Header no se encoge */
            position: sticky; /* Puede ayudar en algunos navegadores */
            top: 0;
            z-index: 10;
        }
        .content-area {
            flex-grow: 1; /* Ocupa todo el espacio vertical disponible entre header y nav */
            overflow-y: auto; /* Permite el scroll SÓLO dentro de esta área */
            background-color: #F9FAFB; /* bg-gray-50 */
            /* Quitamos padding-bottom, el layout flex se encarga */
            -webkit-overflow-scrolling: touch; /* Scroll suave en iOS */
        }
        .bottom-nav-container {
            flex-shrink: 0; /* Nav no se encoge */
            width: 100%;
            background-color: white;
            border-top: 1px solid #E5E7EB;
            z-index: 10; /* Asegura que esté visible */
        }
        .bottom-nav {
            height: 64px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 12px;
        }

        /* Limitar ancho y añadir sombra SOLO en pantallas md o más grandes */
        @media (min-width: 768px) {
             .main-container {
                max-width: 28rem; /* max-w-md */
                height: 95vh; /* Opcional: Centrar verticalmente en escritorio */
                margin-top: 2.5vh;
                margin-bottom: 2.5vh;
                border-radius: 0.5rem; /* Opcional: redondear bordes en escritorio */
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                overflow: hidden; /* Necesario para que el contenido respete los bordes redondeados */
             }
             .bottom-nav-container {
                 padding-bottom: 0px; /* Quitar padding seguro en escritorio */
             }
        }

        /* Ajuste específico para la barra inferior en iOS Safari (notch, etc.) */
        @supports (-webkit-touch-callout: none) {
          .main-container {
             /* Usar dvh si es posible para altura dinámica real, si no, fallback a 100% o -webkit-fill-available */
             height: 100dvh; /* dvh = dynamic viewport height */
             height: -webkit-fill-available; /* Fallback para navegadores más antiguos */
          }
           .bottom-nav-container {
               padding-bottom: env(safe-area-inset-bottom, 0px); /* Espacio seguro en la parte inferior */
           }
           /* Opcional: Añadir padding superior si hay notch */
           /* header { padding-top: env(safe-area-inset-top, 0px); } */
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="main-container">

        <header class="bg-white border-b border-gray-200 p-4 flex justify-between items-center">
             <h1 id="header-title" class="text-2xl font-bold text-gray-800">Clientes</h1>
             <div class="flex items-center gap-2">
                 <button data-view="pos" id="pos-view-btn" class="header-btn header-btn-cart" aria-label="Punto de Venta">
                     <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5"> <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                 </button>
                 <button id="logout-button" class="header-btn header-btn-logout"> Salir </button>
             </div>
        </header>

        <main class="content-area p-4 hide-scrollbar">

            <div id="clients-view" class="view-section">
                </div>

            <div id="pets-view" class="view-section hidden">
                </div>

            <div id="appointments-view" class="view-section hidden">
                </div>

             <div id="services-view" class="view-section hidden">
                 </div>

            <div id="calendar-view" class="view-section hidden">
                </div>

            <div id="pos-view" class="view-section hidden">
                </div>

        </main>

        <div class="bottom-nav-container">
            <nav class="bottom-nav">
                 <button data-view="clients" class="nav-btn active" aria-label="Clientes"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg> </button>
                 <button data-view="pets" class="nav-btn" aria-label="Mascotas"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg> </button>
                 <button data-view="appointments" class="nav-btn" aria-label="Citas"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg> </button>
                 <button data-view="services" class="nav-btn" aria-label="Servicios Completados"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg> </button>
                 <button data-view="calendar" class="nav-btn" aria-label="Calendario"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg> </button>
            </nav>
        </div>

    </div>

    <script type="module" src="dashboard.js"></script>
</body>

</html>